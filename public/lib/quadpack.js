webpackJsonp([16],{0:function(a,b,c){a.exports=c(472)},472:function(a,b,c){if(a.exports={DoubleQuad:c(473),QuadComponent:c(474),QuadComponentHandler:c(475)},"undefined"!=typeof window)for(var d in a.exports)window.goo[d]=a.exports[d]},473:function(a,b,c){function d(a,b,c,d){if(1===arguments.length&&arguments[0]instanceof Object){var f=arguments[0];a=f.width,b=f.height,c=f.tileX,d=f.tileY}this.xExtent=void 0!==a?.5*a:.5,this.yExtent=void 0!==b?.5*b:.5,this.tileX=c||1,this.tileY=d||1;var g=e.defaultMap([e.POSITION,e.NORMAL,e.TEXCOORD0]);e.call(this,g,8,12),this.rebuild()}var e=c(14);d.prototype=Object.create(e.prototype),d.prototype.constructor=d,d.prototype.rebuild=function(){var a=this.xExtent,b=this.yExtent,c=this.tileX,d=this.tileY;return this.getAttributeBuffer(e.POSITION).set([-a,-b,0,-a,b,0,a,b,0,a,-b,0,-a,-b,0,-a,b,0,a,b,0,a,-b,0]),this.getAttributeBuffer(e.NORMAL).set([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1]),this.getAttributeBuffer(e.TEXCOORD0).set([0,0,0,d,c,d,c,0,0,0,0,d,c,d,c,0]),this.getIndexBuffer().set([0,3,1,1,3,2,7,4,5,7,5,6]),this},a.exports=d},474:function(a,b,c){function d(a,b){e.apply(this,arguments),b=b||{};var c={width:1,height:1,tileX:1,tileY:1,preserveAspectRatio:!0};k.defaults(b,c),this.type="QuadComponent",this.width=b.width,this.oldWidth=0,this.height=b.height,this.oldHeight=0,this.tileX=b.tileX,this.oldTileX=0,this.tileY=b.tileY,this.oldTileY=0,this.preserveAspectRatio=b.preserveAspectRatio,this.meshRendererComponent=new h,this.material=new j(i.uber,"QuadComponent default material"),this.meshData=new f(b.width,b.height,b.tileX,b.tileY),this.meshDataComponent=new g(this.meshData);var d=this.material;if(d.blendState.blending="TransparencyBlending",d.renderQueue=2e3,d.uniforms.discardThreshold=.1,this.setMaterial(d),a){var m=new l(a);m.anisotropy=16,m.wrapS="EdgeClamp",m.wrapT="EdgeClamp",d.setTexture("DIFFUSE_MAP",m)}this.rebuildMeshData()}var e=c(20),f=c(473),g=c(216),h=c(215),i=c(46),j=c(30),k=c(6),l=c(53);d.prototype=Object.create(e.prototype),d.prototype.constructor=d,d.prototype.attached=function(a){a.setComponent(a.quadComponent.meshRendererComponent),a.setComponent(a.quadComponent.meshDataComponent)},d.prototype.detached=function(a){a.clearComponent("meshRendererComponent"),a.clearComponent("meshDataComponent")},d.prototype.destroy=function(a){this.meshData.destroy(a)},d.prototype.setMaterial=function(a){this.material=a,this.meshRendererComponent.materials=[a]},d.prototype.rebuildMeshData=function(){var a=this.material,b=a.getTexture("DIFFUSE_MAP");if(b){var c=b.image;if(c){if(this.preserveAspectRatio&&c){var d=c.originalWidth||c.svgWidth||c.width,e=c.originalHeight||c.svgHeight||c.height;this.width=d/100,this.height=e/100}if(this.width!==this.oldWidth||this.height!==this.oldHeight||this.tileX!==this.oldTileX||this.tileY!==this.oldTileY){this.oldWidth=this.width,this.oldHeight=this.height,this.oldTileX=this.tileX,this.oldTileY=this.tileY;var f=this.meshData;f.xExtent=.5*this.width,f.yExtent=.5*this.height,f.tileX=this.tileX,f.tileY=this.tileY,f.rebuild(),f.setVertexDataUpdated()}}}},a.exports=d},475:function(a,b,c){function d(){e.apply(this,arguments),this._type="QuadComponent"}var e=c(88),f=c(474);d.prototype=Object.create(e.prototype),d.prototype.constructor=d,e._registerClass("quad",d),d.prototype._create=function(){return new f},d.prototype._remove=function(a){this.world&&this.world.gooRunner&&a.quadComponent.destroy(this.world.gooRunner.renderer.context),a.clearComponent("quadComponent")},d.prototype.update=function(a,b,c){var d=this;return e.prototype.update.call(this,a,b,c).then(function(e){return e?d._load(b.materialRef,c).then(function(b){return b.cullState.enabled=!0,a.meshRendererComponent!==e.meshRendererComponent&&a.setComponent(e.meshRendererComponent),a.meshDataComponent!==e.meshDataComponent&&a.setComponent(e.meshDataComponent),e.setMaterial(b),e.rebuildMeshData(),e.meshDataComponent.autoCompute=!0,e}):void 0})},a.exports=d}});